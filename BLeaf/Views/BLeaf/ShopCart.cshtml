@model BLeaf.ViewModels.ShoppingCartViewModel
@{
    Layout = "~/Views/Shared/_LayoutBLeaf.cshtml";
}
<div class="page-content bg-white">
    <!-- Banner  -->
    <div class="dz-bnr-inr style-1 text-center bg-parallax" style="background-image:url('../bleaf/images/banner/bnr1.jpg'); background-size:cover; background-position:center; max-height: 200px; height: 100vh;">
        <div class="container">
            <div class="dz-bnr-inr-entry">
                <h1>Shop Cart</h1>
            </div>
        </div>
    </div>
    <!-- Banner End -->
    <!-- Cart Section -->
    <section class="content-inner-1">
        <div class="container">
            <div class="row">
                <div class="col-lg-8">
                    <div class="d-flex justify-content-between align-items-center">
                        <h5 class="title m-b15 m-lg-30">Cart Items</h5>
                        <a href="javascript:void(0);" class="btn btn-primary panel-btn">Filter</a>                       
                    </div>
                    <div id="cartItemsContainer">
                        <!-- Cart items will be dynamically loaded here -->
                    </div>
                    <div id="emptyCartMessage" class="alert alert-info" style="display: none;">
                        Your cart is empty.
                    </div>
                </div>
                <div class="col-lg-4">
                    <aside class="side-bar sticky-top">
                        <div class="shop-filter style-1">
                            <div class="d-flex justify-content-between">
                                <div class="widget-title">
                                    <h5 class="title m-b30">Cart <span class="text-primary">(<span id="cartItemCount">0</span>)</span></h5>
                                </div>
                                <a href="javascript:void(0);" class="panel-close-btn"><i class="fa-solid fa-xmark"></i></a>
                            </div>
                            <div class="order-detail">
                                <h6>Bill Details</h6>
                                <table>
                                    <tbody>
                                        <tr>
                                            <td>Item Total</td>
                                            <td class="price text-primary" id="itemTotal">$0.00</td>
                                        </tr>
                                        <tr class="charges">
                                            <td>Delivery Charges</td>
                                            <td class="price text-primary" id="deliveryCharges">$0.00</td>
                                        </tr>
                                        <tr class="tax">
                                            <td>Govt Taxes & Other Charges</td>
                                            <td class="price text-primary" id="taxes">$0.00</td>
                                        </tr>
                                        <tr class="total">
                                            <td><h6>Total</h6></td>
                                            <td class="price text-primary" id="grandTotal">$0.00</td>
                                        </tr>
                                    </tbody>
                                </table>
                                <a href="@Url.Action("ShopCheckout","BLeaf")" class="btn btn-primary d-block text-center btn-md w-100 btn-hover-1 btn-checkout"><span>Order Now <i class="fa-solid fa-arrow-right"></i></span></a>
                                <div id="cartMessage" class="alert" style="display:none;"></div>
                            </div>
                        </div>
                    </aside>
                </div>
            </div>
        </div>
    </section>
    <!-- cart Section -->
</div>

@section bleaf_style
{
    <!-- Stylesheet -->
    <link href="~/bleaf/vendor/magnific-popup/magnific-popup.min.css" rel="stylesheet">
    <link href="~/bleaf/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">
    <link href="~/bleaf/vendor/bootstrap-select/css/bootstrap-select.min.css" rel="stylesheet">
}
@section bleaf_script
{
    <!-- JAVASCRIPT FILES ========================================= -->
    <script src="~/bleaf/js/jquery.min.js"></script><!-- JQUERY.MIN JS -->
    <script src="~/bleaf/vendor/bootstrap/js/bootstrap.bundle.min.js"></script><!-- BOOTSTRAP.MIN JS -->
    <script src="~/bleaf/vendor/bootstrap-select/js/bootstrap-select.min.js"></script><!-- BOOTSTRAP SELECT -->
    <script src="~/bleaf/vendor/bootstrap-touchspin/bootstrap-touchspin.js"></script><!-- BOOTSTRAP TOUCHSPIN -->
    <script src="~/bleaf/vendor/magnific-popup/magnific-popup.js"></script><!-- MAGNIFIC POPUP JS -->
    <script src="~/bleaf/vendor/counter/waypoints-min.js"></script><!-- WAYPOINTS JS -->
    <script src="~/bleaf/vendor/wow/wow.js"></script><!-- WOW JS -->
    <script src="~/bleaf/vendor/bootstrap-touchspin/bootstrap-touchspin.js"></script><!-- TOUCHSPIN -->
    <script src="~/bleaf/vendor/counter/counterup.min.js"></script><!-- COUNTERUP JS -->
    <script src="~/bleaf/vendor/swiper/swiper-bundle.min.js"></script><!-- OWL-CAROUSEL -->
    <script src="~/bleaf/vendor/particles/particles.js"></script>
    <script src="~/bleaf/vendor/particles/particles-app.js"></script>
    <script src="~/bleaf/js/dz.carousel.min.js"></script><!-- OWL-CAROUSEL -->
    <script src="~/bleaf/js/dz.ajax.js"></script><!-- AJAX -->
    <script src="~/bleaf/vendor/rangeslider/rangeslider.js"></script><!-- CUSTOM JS -->
    <script src="~/bleaf/js/manageCart.js"></script><!-- Custom Cart JS -->
    <script src="~/bleaf/js/custom.min.js"></script><!-- CUSTOM JS -->
    <script>
        $(document).ready(function () {
            // Increment quantity
            $(document).on('click', '.increment-quantity', function () {
                var input = $(this).siblings('input[name="quantity"]');
                var currentValue = parseInt(input.val()) || 1;
                if (currentValue < 100) {
                    input.val(currentValue + 1);
                }
            });

            // Decrement quantity
            $(document).on('click', '.decrement-quantity', function () {
                var input = $(this).siblings('input[name="quantity"]');
                var currentValue = parseInt(input.val()) || 1;
                if (currentValue > 1) {
                    input.val(currentValue - 1);
                }
            });
        });
    </script>
}